@forward "@styles/_extends/flexbox.scss";
@forward "@styles/_extends/effects.scss";
@forward "@styles/_extends/resets";
@use "@styles/_mixins/media-queries" as *;
@use "@styles/_mixins/container-queries" as *;
@use "@styles/_vars/scoped" as *;

.textarea-wrapper {
  @extend %flex-column;
  width: 100%;

  textarea {
    font-family: var(--site-base-font-family);
    width: 100%;
    height: 100%;
    resize: none;
    padding: 16px 28px;
    font-size: 16px;
    font-weight: 400;
    color: var(--dark-color);
    border: 2px solid transparent;

    &::placeholder {
      font-size: 16px;
      font-weight: 400;
      color: var(--muted-color);
      width: 100%;
    }
  }
}

body:has(.--form-controls-border-color-primary) {
  .textarea-wrapper {
    textarea {
      border-color: var(--primary-color);
    }
  }
}

body:has(.--form-controls-border-color-secondary) {
  .textarea-wrapper {
    textarea {
      border-color: var(--secondary-color);
    }
  }
}

body:has(.--form-controls-rounded) {
  .textarea-wrapper {
    textarea {
      border-radius: var(--form-controls-border-radius);
    }
  }
}

/* Common styles*/

$invalidFieldColor: var(--danger-color);
$webkitAutofillColor: var(--secondary-color);

.textarea-wrapper {
  textarea:-webkit-autofill,
  textarea:-webkit-autofill:hover,
  textarea:-webkit-autofill:focus,
  textarea:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 30px $webkitAutofillColor inset !important;
  }

  &.invalid-fld {
    textarea {
      border: 2px solid $invalidFieldColor;
      animation: shaker var(--main-transition);

      &::placeholder {
        color: $invalidFieldColor;
      }
    }
  }
}
